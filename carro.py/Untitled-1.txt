def mostrar_menu():
    """Muestra las opciones del menu al usuario."""
    print("\n--- lista de compras ---")
    print("1. escoge un elemento ")
    print("2. mostrar el contenido de la cesta de la compra")
    print("3. eliminar un elemento")
    print("4. calcular el total de la compra")
    print("5. salir de la tienda")
    print("------------------------------------")

def agregar_elemento(cesta):
    "Permite al usuario agregar un elemento a la cesta."
    nombre = input("Ingresa el nombre del elemento: ").strip().lower() 
    try:
        cantidad = int(input(f"Ingresa la cantidad de '{nombre}': "))
        precio = float(input(f"Ingresa el precio unitario de '{nombre}': "))
        if cantidad <= 0 or precio <= 0:
            print("La cantidad y el precio deben ser mayores que cero.")
            return
        
        if nombre in cesta:
            cesta[nombre]['cantidad'] += cantidad
            
            cesta[nombre]['precio'] = precio 
            print(f"Cantidad y precio de '{nombre}' actualizados.")
        else:
            cesta[nombre] = {'cantidad': cantidad, 'precio': precio}
            print(f"'{nombre}' agregado a la cesta.")
    except ValueError:
        print("Entrada inválida. Asegúrate de ingresar números para cantidad y precio.")

def mostrar_cesta(cesta):
    """Muestra todos los elementos en la cesta de compras."""
    if not cesta:
        print("La cesta de compras está vacía.")
        return
    
    print("\n- CONTENIDO DE LA CESTA DE COMPRAS -")
    for nombre, detalles in cesta.items():
        print(f"- {nombre.capitalize()}: {detalles['cantidad']} unidades @ ${detalles['precio']:.2f} c/u")
    print("-")

def eliminar_elemento(cesta):
    "Permite al usuario eliminar un elemento de la cesta."
    if not cesta:
        print("La cesta de compras está vacía, no hay elementos para eliminar.")
        return

    nombre_eliminar = input("Ingresa el nombre del elemento a eliminar: ").strip().lower()
    if nombre_eliminar in cesta:
        del cesta[nombre_eliminar]
        print(f"'{nombre_eliminar.capitalize()}' eliminado de la cesta.")
    else:
        print(f"'{nombre_eliminar.capitalize()}' no se encontró en la cesta.")

def calcular_total(cesta):
    "Calcula y muestra el total de la compra."
    if not cesta:
        print("La cesta de compras está vacía, el total es $0.00.")
        return

    total = 0.0
    print("\n- RESUMEN DE LA COMPRA -")
    for nombre, detalles in cesta.items():
        subtotal = detalles['cantidad'] * detalles['precio']
        print(f"- {nombre.capitalize()}: {detalles['cantidad']} x ${detalles['precio']:.2f} = ${subtotal:.2f}")
        total += subtotal
    print(f"-")
    print(f"TOTAL A PAGAR: ${total:.2f}")
    print("-")

def main():
    "Función principal que ejecuta el programa de la cesta de compras."
    
    cesta_de_compras = {
        'arroz': {'cantidad': 1, 'precio': 20.00},
        'pasta': {'cantidad': 1, 'precio': 30.00},
        'azucar': {'cantidad': 1, 'precio': 10.00},
        'aceite': {'cantidad': 1, 'precio': 15.00},
        'jugo': {'cantidad': 1, 'precio': 12.00}
    }
    
    while True:
        mostrar_menu()
        opcion = input("Selecciona una opción (1-5): ").strip()

        if opcion == '1':
            agregar_elemento(cesta_de_compras)
        elif opcion == '2':
            mostrar_cesta(cesta_de_compras)
        elif opcion == '3':
            eliminar_elemento(cesta_de_compras)
        elif opcion == '4':
            calcular_total(cesta_de_compras)
        elif opcion == '5':
            print("¡Gracias por usar la cesta de compras! ¡Hasta luego!")
            break
        else:
            print("Opción inválida. Por favor, selecciona un número del 1 al 5.")

if __name__ == "__main__":
    main()
